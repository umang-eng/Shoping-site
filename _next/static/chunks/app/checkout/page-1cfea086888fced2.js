(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{4698:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var l=r(5155),n=r(2115),a=r(2262),i=r(6996),t=r(518),d=r(9434);let c=[{id:"shipping",name:"Shipping"},{id:"payment",name:"Payment"},{id:"review",name:"Review"}],o=e=>{let{currentStep:s}=e,r=c.findIndex(e=>e.id===s);return(0,l.jsx)("nav",{"aria-label":"Progress",children:(0,l.jsx)("ol",{role:"list",className:"flex items-center",children:c.map((e,s)=>(0,l.jsx)("li",{className:(0,d.cn)("relative",s!==c.length-1?"pr-8 sm:pr-20":""),children:s<r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,l.jsx)("div",{className:"h-0.5 w-full bg-primary"})}),(0,l.jsxs)("div",{className:"relative flex h-8 w-8 items-center justify-center rounded-full bg-primary",children:[(0,l.jsx)(t.A,{className:"h-5 w-5 text-primary-foreground","aria-hidden":"true"}),(0,l.jsx)("span",{className:"sr-only",children:e.name})]})]}):s===r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,l.jsx)("div",{className:"h-0.5 w-full bg-border"})}),(0,l.jsx)("div",{className:"relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-primary bg-background",children:(0,l.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-primary","aria-hidden":"true"})}),(0,l.jsx)("div",{className:"absolute top-10 w-max -translate-x-1/2 left-1/2",children:(0,l.jsx)("p",{className:"text-sm font-medium text-primary",children:e.name})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,l.jsx)("div",{className:"h-0.5 w-full bg-border"})}),(0,l.jsx)("div",{className:"group relative flex h-8 w-8 items-center justify-center rounded-full border-2 border-border bg-background",children:(0,l.jsx)("div",{className:"absolute top-10 w-max -translate-x-1/2 left-1/2",children:(0,l.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.name})})})]})},e.name))})})};var m=r(7486),x=r(5594),u=r(2177),h=r(221),j=r(285),p=r(2523),f=r(7759);let g=x.z.object({email:x.z.string().email({message:"Invalid email address."}),fullName:x.z.string().min(2,{message:"Full name must be at least 2 characters."}),address:x.z.string().min(5,{message:"Address is too short."}),city:x.z.string().min(2,{message:"City is required."}),postalCode:x.z.string().min(5,{message:"Postal code is required."}),country:x.z.string().min(2,{message:"Country is required."}),phone:x.z.string().optional()}),v=e=>{let{onContinue:s,setShippingData:r}=e,n=(0,u.mN)({resolver:(0,h.u)(g),mode:"onBlur",defaultValues:{email:"",fullName:"",address:"",city:"",postalCode:"",country:"",phone:""}});return(0,l.jsxs)("div",{className:"animate-fade-in-up",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold font-headline mb-6",children:"Shipping Information"}),(0,l.jsx)(f.lV,{...n,children:(0,l.jsxs)("form",{onSubmit:n.handleSubmit(function(e){r(e),s()}),className:"space-y-6",children:[(0,l.jsx)(f.zB,{control:n.control,name:"email",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Email Address"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"you@example.com",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:n.control,name:"fullName",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Full Name"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"Jane Doe",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:n.control,name:"address",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Shipping Address"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"123 Artisan Lane",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsx)(f.zB,{control:n.control,name:"city",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"City"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:n.control,name:"postalCode",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Postal Code"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:n.control,name:"country",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Country/Region"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{...s})}),(0,l.jsx)(f.C5,{})]})}})]}),(0,l.jsx)(f.zB,{control:n.control,name:"phone",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Phone Number (Optional)"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"For shipping updates",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(j.$,{type:"submit",size:"lg",className:"h-12 px-8 font-bold mt-4",children:"Continue to Payment"})})]})})]})};var b=r(6160),N=r(5166),y=r(7313);let C=x.z.object({cardNumber:x.z.string().length(16,"Card number must be 16 digits."),nameOnCard:x.z.string().min(2,"Name is required."),expiryDate:x.z.string().regex(/^(0[1-9]|1[0-2])\/\d{2}$/,"Invalid expiry date (MM/YY)."),cvv:x.z.string().min(3).max(4,"Invalid CVV.")}),w=e=>{let{onContinue:s,setPaymentData:r,shippingData:n,onEdit:a}=e,i=(0,u.mN)({resolver:(0,h.u)(C),mode:"onBlur"});return(0,l.jsxs)("div",{className:"animate-fade-in-up",children:[(0,l.jsx)("div",{className:"border border-border rounded-lg p-4 mb-8 text-sm",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-muted-foreground",children:"Ship To"}),(0,l.jsxs)("p",{className:"font-medium",children:[null==n?void 0:n.address,", ",null==n?void 0:n.city]})]}),(0,l.jsx)(j.$,{variant:"link",onClick:a,children:"Edit"})]})}),(0,l.jsx)("h2",{className:"text-2xl font-bold font-headline mb-6",children:"Payment"}),(0,l.jsxs)(y.tU,{defaultValue:"credit-card",className:"w-full",children:[(0,l.jsxs)(y.j7,{className:"grid w-full grid-cols-2",children:[(0,l.jsxs)(y.Xi,{value:"credit-card",children:[(0,l.jsx)(b.A,{className:"mr-2"})," Credit Card"]}),(0,l.jsxs)(y.Xi,{value:"paypal",disabled:!0,children:[(0,l.jsx)(N.A,{className:"mr-2"})," PayPal"]})]}),(0,l.jsx)(y.av,{value:"credit-card",children:(0,l.jsx)(f.lV,{...i,children:(0,l.jsxs)("form",{onSubmit:i.handleSubmit(function(e){r(e),s()}),className:"space-y-6 mt-6",children:[(0,l.jsx)(f.zB,{control:i.control,name:"cardNumber",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Card Number"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"0000 0000 0000 0000",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:i.control,name:"nameOnCard",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Name on Card"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"Jane Doe",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsx)(f.zB,{control:i.control,name:"expiryDate",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"Expiration Date"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"MM/YY",...s})}),(0,l.jsx)(f.C5,{})]})}}),(0,l.jsx)(f.zB,{control:i.control,name:"cvv",render:e=>{let{field:s}=e;return(0,l.jsxs)(f.eI,{children:[(0,l.jsx)(f.lR,{children:"CVV"}),(0,l.jsx)(f.MJ,{children:(0,l.jsx)(p.p,{placeholder:"123",...s})}),(0,l.jsx)(f.C5,{})]})}})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(j.$,{type:"submit",size:"lg",className:"h-12 px-8 font-bold mt-4",children:"Review Your Order"})})]})})})]})]})};var R=r(5695),z=r(172);let I=e=>{let{shippingData:s,paymentData:r,onEditShipping:a,onEditPayment:i}=e,t=(0,R.useRouter)(),[d,c]=(0,n.useState)(!1);return(0,l.jsxs)("div",{className:"animate-fade-in-up",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold font-headline mb-6",children:"Review & Place Order"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"border border-border rounded-lg p-4 text-sm",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-base mb-1",children:"Ship To"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:null==s?void 0:s.fullName}),(0,l.jsxs)("p",{className:"text-muted-foreground",children:[null==s?void 0:s.address,", ",null==s?void 0:s.city,", ",null==s?void 0:s.postalCode]})]}),(0,l.jsx)(j.$,{variant:"link",onClick:a,children:"Edit"})]})}),(0,l.jsx)("div",{className:"border border-border rounded-lg p-4 text-sm",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-base mb-1",children:"Payment Method"}),(0,l.jsxs)("p",{className:"text-muted-foreground",children:["Visa ending in •••• ",null==r?void 0:r.cardNumber.slice(-4)]})]}),(0,l.jsx)(j.$,{variant:"link",onClick:i,children:"Edit"})]})})]}),(0,l.jsx)("div",{className:"mt-8 text-right",children:(0,l.jsx)(j.$,{size:"lg",className:"w-full sm:w-auto h-14 text-lg font-bold",onClick:()=>{s&&(c(!0),setTimeout(()=>{let e="VERVE-".concat(Math.floor(1e4+9e4*Math.random()));t.push("/checkout/confirmation?orderId=".concat(e,"&name=").concat(s.fullName.split(" ")[0]))},2e3))},disabled:d,children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Placing Order..."]}):"PLACE ORDER"})})]})},M=(0,r(999).AS)().slice(0,3).map((e,s)=>({...e,quantity:s+1})),P=M.reduce((e,s)=>e+(s.salePrice||s.price)*s.quantity,0);function k(){let[e,s]=(0,n.useState)("shipping"),[r,t]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),x=()=>{"shipping"===e?s("payment"):"payment"===e&&s("review")},u=e=>{s(e)};return(0,l.jsxs)("div",{className:"flex flex-col min-h-screen bg-background",children:[(0,l.jsx)(a.default,{}),(0,l.jsx)("main",{className:"flex-grow py-8 sm:py-12",children:(0,l.jsx)("div",{className:"container mx-auto px-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-16",children:[(0,l.jsxs)("div",{className:"order-2 lg:order-1",children:[(0,l.jsx)(o,{currentStep:e}),(0,l.jsx)("div",{className:"mt-8",children:(()=>{switch(e){case"shipping":default:return(0,l.jsx)(v,{onContinue:x,setShippingData:t});case"payment":return(0,l.jsx)(w,{shippingData:r,onContinue:x,setPaymentData:c,onEdit:()=>u("shipping")});case"review":return(0,l.jsx)(I,{shippingData:r,paymentData:d,onEditShipping:()=>u("shipping"),onEditPayment:()=>u("payment")})}})()})]}),(0,l.jsx)("div",{className:"order-1 lg:order-2 mb-12 lg:mb-0",children:(0,l.jsx)(m.A,{items:M,subtotal:P})})]})})}),(0,l.jsx)(i.default,{})]})}},5057:(e,s,r)=>{"use strict";r.d(s,{J:()=>c});var l=r(5155),n=r(2115),a=r(968),i=r(2085),t=r(9434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,l.jsx)(a.b,{ref:s,className:(0,t.cn)(d(),r),...n})});c.displayName=a.b.displayName},5986:(e,s,r)=>{Promise.resolve().then(r.bind(r,4698))},7313:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>t});var l=r(5155),n=r(2115),a=r(704),i=r(9434);let t=a.bL,d=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,l.jsx)(a.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});d.displayName=a.B8.displayName;let c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,l.jsx)(a.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});c.displayName=a.l9.displayName;let o=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,l.jsx)(a.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});o.displayName=a.UC.displayName},7759:(e,s,r)=>{"use strict";r.d(s,{C5:()=>f,MJ:()=>p,eI:()=>h,lR:()=>j,lV:()=>c,zB:()=>m});var l=r(5155),n=r(2115),a=r(4253),i=r(2177),t=r(9434),d=r(5057);let c=i.Op,o=n.createContext({}),m=e=>{let{...s}=e;return(0,l.jsx)(o.Provider,{value:{name:s.name},children:(0,l.jsx)(i.xI,{...s})})},x=()=>{let e=n.useContext(o),s=n.useContext(u),{getFieldState:r,formState:l}=(0,i.xW)(),a=r(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:t}=s;return{id:t,name:e.name,formItemId:"".concat(t,"-form-item"),formDescriptionId:"".concat(t,"-form-item-description"),formMessageId:"".concat(t,"-form-item-message"),...a}},u=n.createContext({}),h=n.forwardRef((e,s)=>{let{className:r,...a}=e,i=n.useId();return(0,l.jsx)(u.Provider,{value:{id:i},children:(0,l.jsx)("div",{ref:s,className:(0,t.cn)("space-y-2",r),...a})})});h.displayName="FormItem";let j=n.forwardRef((e,s)=>{let{className:r,...n}=e,{error:a,formItemId:i}=x();return(0,l.jsx)(d.J,{ref:s,className:(0,t.cn)(a&&"text-destructive",r),htmlFor:i,...n})});j.displayName="FormLabel";let p=n.forwardRef((e,s)=>{let{...r}=e,{error:n,formItemId:i,formDescriptionId:t,formMessageId:d}=x();return(0,l.jsx)(a.DX,{ref:s,id:i,"aria-describedby":n?"".concat(t," ").concat(d):"".concat(t),"aria-invalid":!!n,...r})});p.displayName="FormControl",n.forwardRef((e,s)=>{let{className:r,...n}=e,{formDescriptionId:a}=x();return(0,l.jsx)("p",{ref:s,id:a,className:(0,t.cn)("text-sm text-muted-foreground",r),...n})}).displayName="FormDescription";let f=n.forwardRef((e,s)=>{var r;let{className:n,children:a,...i}=e,{error:d,formMessageId:c}=x(),o=d?String(null!=(r=null==d?void 0:d.message)?r:""):a;return o?(0,l.jsx)("p",{ref:s,id:c,className:(0,t.cn)("text-sm font-medium text-destructive",n),...i,children:o}):null});f.displayName="FormMessage"}},e=>{var s=s=>e(e.s=s);e.O(0,[3,790,53,722,766,573,342,727,103,409,441,684,358],()=>s(5986)),_N_E=e.O()}]);